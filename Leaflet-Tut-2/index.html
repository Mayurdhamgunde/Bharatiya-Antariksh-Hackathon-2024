<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeafletJs</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <!-- Leaflet css -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
     <style>
        *{
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        .map{
            height: 100vh;
            width: 100vw;
        }
     </style>
</head>
<body>
    <div class="container">
        <div class="row">
            <nav class="navbar bg-body-tertiary">
                <div class="container">
                  <a class="navbar-brand" href="#">
                    <img src="leaf-img.png" alt="Bootstrap" width="90" height="34">
                    Leaflet Web Mapping
                  </a>
                </div>
              </nav>
        </div>
        <div id="mapid" class="map">

        </div>
    </div>
    <script>
        var mymap = L.map("mapid",{
            center:[51.505,-0.09],
            zoom:13
        })
       L.tileLayer(`https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=bQcWd5zn3USWiN8p65Wr`,{
            tileSize: 512,
            zoomOffset: -1,
            minZoom: 1,
            attribution: "\u003ca href=\"https://www.maptiler.com/copyright/\" target=\"_blank\"\u003e\u0026copy; MapTiler\u003c/a\u003e \u003ca href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\"\u003e\u0026copy; OpenStreetMap contributors\u003c/a\u003e",
            crossOrigin: true
          }).addTo(mymap);
          mymap.on('click',function(e){
            console.log("function work correctly")
            mymap.locate({
                setView: true
            })
          })
          mymap.on("locationfound",function(e){
            var marker = L.marker(e.latlng).addTo(mymap);
            alert(marker.getLatLng());

          })
          mymap.on("locationerror",function(e){
            console.log("location not found")
          })
          var marker = L.marker([51.50361379162684,-0.087890625],{
            title:"I have created marker",
            draggable:true
          }).addTo(mymap)
          marker.on("click",function(e){
            alert(marker.getLatLng())
          })
    </script>
</body>
</html>